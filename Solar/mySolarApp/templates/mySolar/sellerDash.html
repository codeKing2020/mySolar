{% extends 'mySolar/dashLayout.html' %}

{% block title %}
Seller Dashboard | mySolar
{% endblock %}

{% block body %}
<div class="column">
    <!-- Show overall info, eg orders -->
    <h1 class="mb-3">Hello {{ user.username }}</h1>

    <h2 class="mb-5 border-bottom">Your orders</h2>
    {% if delivery_info == "empty" %}
    <h3>You currently do not have any orders, check again soon!</h3>
    {% else %}
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Item</th>
                <th scope="col">#</th>
                <th scope="col">Delivery Date</th>
                <th scope="col">Location</th>
                <th scope="col">Payment Method</th>
                <th scope="col">Customer contact info</th>
            </tr>
        </thead>
        <tbody>
            {% for del_info in delivery_info %}
            <a href="{% url 'orderInfo' del_info.pk %}">
                <tr>
                    <td>
                        {{del_info.item.title}}
                    </td>
                    <td>
                        {{del_info.amount_of_item}}
                    </td>
                    <td>
                        {{del_info.delivery_date}}
                    </td>
                    <td>
                        {{del_info.location}}
                    </td>
                    <td>
                        {{del_info.payment_method}}
                    </td>
                    {% if del_info.customer.contact_info %}
                    <td>
                        {{del_info.customer.contact_info}
                    </td>
                    {% else %}
                    <td>
                        {{del_info.customer.email}}
                    </td>
                    {% endif %}
                </tr>
            </a>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</div>
{% endblock %}